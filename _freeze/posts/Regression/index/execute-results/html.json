{
  "hash": "15a0f39c8b2df9b0ef24eb40be05da35",
  "result": {
    "markdown": "---\ntitle: \"Employee Churn- Survival Analysis\"\nauthor: \"Karol Orozco\"\ndate: \"2022-10-04\"\n---\n\n\n## Import Libraries\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.1\n✔ readr   2.1.2     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n:::\n\n\n## Load the Data\n\nThis data set came from Kaggle\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemployee.att <- read.csv(\"C:/Users/karol/Desktop/Portfolio/DATASET/IBM-HR-Employee-Attrition.csv\")\n```\n:::\n\n\nLet's take a look at the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(employee.att)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |             |\n|:------------------------|:------------|\n|Name                     |employee.att |\n|Number of rows           |1470         |\n|Number of columns        |35           |\n|_______________________  |             |\n|Column type frequency:   |             |\n|character                |9            |\n|numeric                  |26           |\n|________________________ |             |\n|Group variables          |None         |\n\n\n**Variable type: character**\n\n|skim_variable  | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:--------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Attrition      |         0|             1|   2|   3|     0|        2|          0|\n|BusinessTravel |         0|             1|  10|  17|     0|        3|          0|\n|Department     |         0|             1|   5|  22|     0|        3|          0|\n|EducationField |         0|             1|   5|  16|     0|        6|          0|\n|Gender         |         0|             1|   4|   6|     0|        2|          0|\n|JobRole        |         0|             1|   7|  25|     0|        9|          0|\n|MaritalStatus  |         0|             1|   6|   8|     0|        3|          0|\n|Over18         |         0|             1|   1|   1|     0|        1|          0|\n|OverTime       |         0|             1|   2|   3|     0|        2|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable            | n_missing| complete_rate|     mean|      sd|   p0|     p25|     p50|      p75|  p100|hist  |\n|:------------------------|---------:|-------------:|--------:|-------:|----:|-------:|-------:|--------:|-----:|:-----|\n|Age                      |         0|             1|    36.92|    9.14|   18|   30.00|    36.0|    43.00|    60|▂▇▇▃▂ |\n|DailyRate                |         0|             1|   802.49|  403.51|  102|  465.00|   802.0|  1157.00|  1499|▇▇▇▇▇ |\n|DistanceFromHome         |         0|             1|     9.19|    8.11|    1|    2.00|     7.0|    14.00|    29|▇▅▂▂▂ |\n|Education                |         0|             1|     2.91|    1.02|    1|    2.00|     3.0|     4.00|     5|▂▃▇▆▁ |\n|EmployeeCount            |         0|             1|     1.00|    0.00|    1|    1.00|     1.0|     1.00|     1|▁▁▇▁▁ |\n|EmployeeNumber           |         0|             1|  1024.87|  602.02|    1|  491.25|  1020.5|  1555.75|  2068|▇▇▇▇▇ |\n|EnvironmentSatisfaction  |         0|             1|     2.72|    1.09|    1|    2.00|     3.0|     4.00|     4|▅▅▁▇▇ |\n|HourlyRate               |         0|             1|    65.89|   20.33|   30|   48.00|    66.0|    83.75|   100|▇▇▇▇▇ |\n|JobInvolvement           |         0|             1|     2.73|    0.71|    1|    2.00|     3.0|     3.00|     4|▁▃▁▇▁ |\n|JobLevel                 |         0|             1|     2.06|    1.11|    1|    1.00|     2.0|     3.00|     5|▇▇▃▂▁ |\n|JobSatisfaction          |         0|             1|     2.73|    1.10|    1|    2.00|     3.0|     4.00|     4|▅▅▁▇▇ |\n|MonthlyIncome            |         0|             1|  6502.93| 4707.96| 1009| 2911.00|  4919.0|  8379.00| 19999|▇▅▂▁▂ |\n|MonthlyRate              |         0|             1| 14313.10| 7117.79| 2094| 8047.00| 14235.5| 20461.50| 26999|▇▇▇▇▇ |\n|NumCompaniesWorked       |         0|             1|     2.69|    2.50|    0|    1.00|     2.0|     4.00|     9|▇▃▂▂▁ |\n|PercentSalaryHike        |         0|             1|    15.21|    3.66|   11|   12.00|    14.0|    18.00|    25|▇▅▃▂▁ |\n|PerformanceRating        |         0|             1|     3.15|    0.36|    3|    3.00|     3.0|     3.00|     4|▇▁▁▁▂ |\n|RelationshipSatisfaction |         0|             1|     2.71|    1.08|    1|    2.00|     3.0|     4.00|     4|▅▅▁▇▇ |\n|StandardHours            |         0|             1|    80.00|    0.00|   80|   80.00|    80.0|    80.00|    80|▁▁▇▁▁ |\n|StockOptionLevel         |         0|             1|     0.79|    0.85|    0|    0.00|     1.0|     1.00|     3|▇▇▁▂▁ |\n|TotalWorkingYears        |         0|             1|    11.28|    7.78|    0|    6.00|    10.0|    15.00|    40|▇▇▂▁▁ |\n|TrainingTimesLastYear    |         0|             1|     2.80|    1.29|    0|    2.00|     3.0|     3.00|     6|▂▇▇▂▃ |\n|WorkLifeBalance          |         0|             1|     2.76|    0.71|    1|    2.00|     3.0|     3.00|     4|▁▃▁▇▂ |\n|YearsAtCompany           |         0|             1|     7.01|    6.13|    0|    3.00|     5.0|     9.00|    40|▇▂▁▁▁ |\n|YearsInCurrentRole       |         0|             1|     4.23|    3.62|    0|    2.00|     3.0|     7.00|    18|▇▃▂▁▁ |\n|YearsSinceLastPromotion  |         0|             1|     2.19|    3.22|    0|    0.00|     1.0|     3.00|    15|▇▁▁▁▁ |\n|YearsWithCurrManager     |         0|             1|     4.12|    3.57|    0|    2.00|     3.0|     7.00|    17|▇▂▅▁▁ |\n:::\n:::\n\n\nThis data set contains 1470 observations and 35 variables. However, for this analysis, I am interested in the following fields:\n\n-   Attrition:\n\n-   Department:\n\n-   Age:\n\n-   Gender:\n\n-   EnvironmentSatisfaction:\n\n-   JobLevel: JobSatisfaction:\n\n-   YearsAtCompany:\n\n-   YearsSinceLastPromotion:\n\n-   OverTime:\n\n## Survival Analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#as 'Attrition' is a categorical variable, the following command changes it to a binary 1/0\n\nemployee.att$event <- with(employee.att,ifelse(Attrition==\"Yes\", 1, 0))\n\ntime<-employee.att$YearsAtCompany #define time\n\nevent<-employee.att$event #define event\n\ngroup<-employee.att$OverTime #define groups to compare multiple survival curves\n\nsurvival<-Surv(time,event) #creates the survival object\n\nhead(survival, n = 15)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  6  10+  0   8+  2+  7+  1+  1+  9+  7+  5+  9+  5+  2+  4 \n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}