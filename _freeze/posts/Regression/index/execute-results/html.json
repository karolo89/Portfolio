{
  "hash": "23f984cab804faf2a1c29cebaa02fd16",
  "result": {
    "markdown": "---\ntitle: \"Analyzing Employee Turnover\"\nauthor: \"Karol Orozco\"\ndate: \"2022-10\"\n---\n\n\n## 1. Background\n\nYou work for the human capital department of a large corporation. The Board is worried about the relatively high turnover, and your team must look into ways to reduce the number of employees leaving the company. The team needs to understand better the situation, which employees are more likely to leave, and why. Once it is clear what variables impact employee churn, you can present your findings along with your ideas on how to attack the problem.\n\n#### Your challenge\n\nCreate a report that covers the following:\n\n-   Which department has the highest employee turnover? Which one has the lowest?\n-   Investigate which variables seem to be better predictors of employee departure.\n-   What recommendations would you make regarding ways to reduce employee turnover?\n\n## 2. Import Libraries\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.1\n✔ readr   2.1.2     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nAttaching package: 'janitor'\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n:::\n\n\n## 3. Prepare and Analyze the Data\n\n\n::: {.cell}\n\n:::\n\n\nThe variables are defined as follow:\n\n-   \"department\" - the department the employee belongs to.\n-   \"promoted\" - 1 if the employee was promoted in the previous 24 months, 0 otherwise.\n-   \"review\" - the composite score the employee received in their last evaluation.\n-   \"projects\" - how many projects the employee is involved in.\n-   \"salary\" - for confidentiality reasons, salary comes in three tiers: low, medium, high.\n-   \"tenure\" - how many years the employee has been at the company.\n-   \"satisfaction\" - a measure of employee satisfaction from surveys.\n-   \"bonus\" - 1 if the employee received a bonus in the previous 24 months, 0 otherwise.\n-   \"avg_hrs_month\" - the average hours the employee worked in a month.\n-   \"left\" - \"yes\" if the employee ended up leaving, \"no\" otherwise.\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |              |\n|:------------------------|:-------------|\n|Name                     |empl_turnover |\n|Number of rows           |9540          |\n|Number of columns        |10            |\n|_______________________  |              |\n|Column type frequency:   |              |\n|character                |3             |\n|numeric                  |7             |\n|________________________ |              |\n|Group variables          |None          |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|department    |         0|             1|   2|  11|     0|       10|          0|\n|salary        |         0|             1|   3|   6|     0|        3|          0|\n|left          |         0|             1|   2|   3|     0|        2|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|   mean|   sd|     p0|    p25|    p50|    p75|   p100|hist  |\n|:-------------|---------:|-------------:|------:|----:|------:|------:|------:|------:|------:|:-----|\n|promoted      |         0|             1|   0.03| 0.17|   0.00|   0.00|   0.00|   0.00|   1.00|▇▁▁▁▁ |\n|review        |         0|             1|   0.65| 0.09|   0.31|   0.59|   0.65|   0.71|   1.00|▁▃▇▃▁ |\n|projects      |         0|             1|   3.27| 0.58|   2.00|   3.00|   3.00|   4.00|   5.00|▁▇▁▅▁ |\n|tenure        |         0|             1|   6.56| 1.42|   2.00|   5.00|   7.00|   8.00|  12.00|▁▇▇▂▁ |\n|satisfaction  |         0|             1|   0.50| 0.16|   0.00|   0.39|   0.50|   0.62|   1.00|▁▅▇▅▁ |\n|bonus         |         0|             1|   0.21| 0.41|   0.00|   0.00|   0.00|   0.00|   1.00|▇▁▁▁▂ |\n|avg_hrs_month |         0|             1| 184.66| 4.14| 171.37| 181.47| 184.63| 187.73| 200.86|▁▆▇▂▁ |\n:::\n:::\n\nWe have 7 columns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(empl_turnover)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"department\"    \"promoted\"      \"review\"        \"projects\"     \n [5] \"salary\"        \"tenure\"        \"satisfaction\"  \"bonus\"        \n [9] \"avg_hrs_month\" \"left\"         \n```\n:::\n:::\n\n\n- There is no missing data in the data set.\n- Employees are involved between 2 to 5 projects\n- Employees have been at the company between 2 to 12 years\n- The average worked hours per month is between 171.37 and 200.86 hours\n- There are some data types that need to be changed as a factor\n\n\n::: {.cell}\n\n```{.r .cell-code}\nempl_turnover$department <- as.factor(empl_turnover$department)\nempl_turnover$left<- as.factor(empl_turnover$left)\nempl_turnover$promoted<- as.factor(empl_turnover$promoted)\nempl_turnover$bonus<- as.factor(empl_turnover$bonus)\nempl_turnover$salary<- as.factor(empl_turnover$salary)\n\n\nglimpse(empl_turnover)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 9,540\nColumns: 10\n$ department    <fct> operations, operations, support, logistics, sales, IT, a…\n$ promoted      <fct> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ review        <dbl> 0.5775687, 0.7518997, 0.7225484, 0.6751583, 0.6762032, 0…\n$ projects      <int> 3, 3, 3, 4, 3, 2, 4, 4, 4, 3, 4, 3, 3, 3, 3, 3, 4, 4, 3,…\n$ salary        <fct> low, medium, medium, high, high, medium, high, medium, l…\n$ tenure        <dbl> 5, 6, 6, 8, 5, 5, 5, 7, 6, 6, 5, 5, 6, 5, 6, 6, 6, 5, 6,…\n$ satisfaction  <dbl> 0.6267590, 0.4436790, 0.4468232, 0.4401387, 0.5776074, 0…\n$ bonus         <fct> 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,…\n$ avg_hrs_month <dbl> 180.8661, 182.7081, 184.4161, 188.7075, 179.8211, 178.84…\n$ left          <fct> no, no, no, no, no, no, no, no, no, no, no, no, no, no, …\n```\n:::\n:::\n\n\n#### **Turnover**\n\nNumber of employees that left the company:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(empl_turnover$left)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  no  yes \n6756 2784 \n```\n:::\n:::\n\n\n#### **Are the employees leaving the different departments at the same rate?**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nempl_turnover_prop <- empl_turnover %>% \n  tabyl(department, left) %>%\n  adorn_percentages(\"row\") %>%\n  mutate(Perc_empl_left = paste0(round(yes * 100),\"%\"))\n\nkable(empl_turnover_prop,  caption = \"Department vs Attrition\")\n```\n\n::: {.cell-output-display}\nTable: Department vs Attrition\n\n|department  |        no|       yes|Perc_empl_left |\n|:-----------|---------:|---------:|:--------------|\n|admin       | 0.7186761| 0.2813239|28%            |\n|engineering | 0.7117414| 0.2882586|29%            |\n|finance     | 0.7313433| 0.2686567|27%            |\n|IT          | 0.6910112| 0.3089888|31%            |\n|logistics   | 0.6916667| 0.3083333|31%            |\n|marketing   | 0.6970075| 0.3029925|30%            |\n|operations  | 0.7135348| 0.2864652|29%            |\n|retail      | 0.6943543| 0.3056457|31%            |\n|sales       | 0.7148168| 0.2851832|29%            |\n|support     | 0.7115646| 0.2884354|29%            |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nempl_turnover$reordept <-reorder(empl_turnover$department, empl_turnover$left, FUN=function(x) mean(as.numeric(x)))\n\n\nplot_depart <- empl_turnover %>%\nggplot(aes(x = reordept, fill = left)) +\ngeom_bar(position = \"fill\")+\nscale_fill_manual(values=c(\"gray\", \"blue\"))+\n\nlabs(title = \"Turnover by Department\",\n      y= \" \",\n      x= \" \") +\ncoord_flip() +\ntheme_minimal()+\ntheme(\n    plot.title = element_text(size =9, face = \"bold\", hjust = 0.55),\n    legend.position=\"bottom\")\n\nplot_depart\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\nThe overall attrition rate in the company is 29.27%, which means that 2,784 employees have left the company over the past 24 months.\n\n- The data shows that the IT department has the highest employee turnover rate, followed by logistics. Finance has the lowest rate.\n\n#### **How long were the staff that left working at the company?**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_years <- empl_turnover %>%\ngroup_by(tenure, left)%>%\nggplot(aes(x = tenure, fill = left)) +\ngeom_histogram(bins = 30L) +\n\nscale_fill_manual(values=c(\"gray\", \"blue\"))+\n\ntheme_minimal()+ \n\n  labs( x= \"Years at the Company\",\n        y= \"Number of Employees\",\n        title = \"Number of Years Working at the Company\")+\n\ntheme(plot.title = element_text(size =9, face = \"bold\", hjust = 0.55),\nlegend.position=\"bottom\")\n\nplot_years \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n\n## 4. The Model\n\n## 5. Conclusion and Recomendations\n\n## 6. References\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}